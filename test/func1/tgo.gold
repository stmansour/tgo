2016/01/04 10:55:19 **********   T G O   **********
2016/01/04 10:55:19 loadEnvDescrFromBytes - content = {
    "EnvName": "Multiple-Instances Test Environment",
    "Instances": [
        {
            "Apps": [
                {
                    "IsTest": false,
                    "Name": "tgo",
                    "Repo": "jenkins-snapshot/tgo/latest",
                    "RunCmd": "",
                    "State": 0,
                    "UID": "tgo0",
                    "UPort": 8103
                },
                {
                    "IsTest": false,
                    "Name": "echosrv",
                    "Repo": "jenkins-snapshot/echosrv/latest",
                    "RunCmd": "",
                    "State": 0,
                    "UID": "echosrv",
                    "UPort": 8200
                },
                {
                    "IsTest": true,
                    "Name": "echosrv_test",
                    "Repo": "jenkins-snapshot/echosrv_test/latest",
                    "RunCmd": "echosrv_test -h {TGO-0.HostName} -p {TGO-0.echosrv.UPort}",
                    "State": 0,
                    "UID": "echosrv_test",
                    "UPort": 8204
                }
            ],
            "HostName": "",
            "InstAwsID": "",
            "InstName": "TGO-0",
            "OS": "Linux"
        }
    ],
    "State": 0,
    "ThisInst": 0,
    "UhuraPort": 8150,
    "UhuraURL": "http://localhost:8150/"
}

2016/01/04 10:55:19 loadEnvDescrFromBytes: success
2016/01/04 10:55:19 readEnvDescr - Loading uhura_map.json
2016/01/04 10:55:19 uhura url: http://localhost:8150/
2016/01/04 10:55:19 There are 3 apps on this instance:
2016/01/04 10:55:19 	0. tgo
2016/01/04 10:55:19 	1. echosrv
2016/01/04 10:55:19 	2. echosrv_test
2016/01/04 10:55:19 Entering processAppResourceNeeds
2016/01/04 10:55:19 MapRequest
2016/01/04 10:55:19 loadEnvDescrFromBytes - content = {"EnvName":"Multiple-Instances Test Environment","UhuraURL":"http://localhost:8150/","UhuraPort":8100,"ThisInst":0,"State":0,"Instances":[{"InstName":"TGO-0","OS":"Linux","HostName":"localhost","InstAwsID":"","Resources":{"MySQL":false},"Apps":[{"UID":"tgo0","Name":"tgo","Repo":"jenkins-snapshot/tgo/latest","UPort":8103,"IsTest":false,"State":0,"RunCmd":"","AppRes":{"Cmd":"","RestoreMySQLdb":"","DBname":""},"KVs":null},{"UID":"echosrv","Name":"echosrv","Repo":"jenkins-snapshot/echosrv/latest","UPort":8200,"IsTest":false,"State":0,"RunCmd":"","AppRes":{"Cmd":"","RestoreMySQLdb":"","DBname":""},"KVs":null},{"UID":"echosrv_test","Name":"echosrv_test","Repo":"jenkins-snapshot/echosrv_test/latest","UPort":8204,"IsTest":true,"State":0,"RunCmd":"","AppRes":{"Cmd":"","RestoreMySQLdb":"","DBname":""},"KVs":null}]}]}
2016/01/04 10:55:19 loadEnvDescrFromBytes: success
2016/01/04 10:55:19 I am instance 0, my name is TGO-0, I am app index 0
2016/01/04 10:55:19 I will listen for commands on port 8103
2016/01/04 10:55:19 UhuraComms http service listening on port: 8103
2016/01/04 10:55:19 Orchestrator: StateUnknown started
2016/01/04 10:55:19 Entering StateUnknown
2016/01/04 10:55:19 Starting all apps
2016/01/04 10:55:19 os.Stat(../echosrv/activate.sh)
2016/01/04 10:55:19 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv)
2016/01/04 10:55:19 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:19 DEBUG: out=OK

2016/01/04 10:55:19 DEBUG:  retval := activateCmd(i, actCmd) returned OK

2016/01/04 10:55:19 DEBUG:  lower = strings.TrimRight(lower, '
') returned ok
2016/01/04 10:55:19 ../echosrv/activate.sh start returns ok
2016/01/04 10:55:19 os.Stat(../echosrv_test/activate.sh)
2016/01/04 10:55:19 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv_test)
2016/01/04 10:55:19 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:19 DEBUG: out=OK

2016/01/04 10:55:19 DEBUG:  retval := activateCmd(i, actCmd) returned OK

2016/01/04 10:55:19 DEBUG:  lower = strings.TrimRight(lower, '
') returned ok
2016/01/04 10:55:19 ../echosrv_test/activate.sh start returns ok
2016/01/04 10:55:19 Orchestrator: StateUnknown completed:  1
2016/01/04 10:55:19 Orchestrator: StateInit started
2016/01/04 10:55:19 3 of 3 apps are in STATEInitializing
2016/01/04 10:55:19 Orchestrator: StateInit completed:  0
2016/01/04 10:55:19 Orchestrator: Entering StateReady
2016/01/04 10:55:19 Orchestrator: Posted READY status to uhura. ReplyCode: 0
2016/01/04 10:55:19 StateUnknown: exiting 0
2016/01/04 10:55:19 StateInit: exiting 0
2016/01/04 10:55:19 Entering StateReady
2016/01/04 10:55:19 os.Stat(../echosrv/activate.sh)
2016/01/04 10:55:19 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv)
2016/01/04 10:55:19 Orchestrator: Calling StateReady
2016/01/04 10:55:19 Orchestrator: waiting for StateReady to reply
2016/01/04 10:55:19 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:19 DEBUG: out=OK

2016/01/04 10:55:19 DEBUG:  retval := activateCmd(i, actCmd) returned OK

2016/01/04 10:55:19 DEBUG:  lower = strings.TrimRight(lower, '
') returned ok
2016/01/04 10:55:19 ../echosrv/activate.sh ready returns ok
2016/01/04 10:55:19 os.Stat(../echosrv_test/activate.sh)
2016/01/04 10:55:19 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv_test)
2016/01/04 10:55:19 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:19 DEBUG: out=OK

2016/01/04 10:55:19 DEBUG:  retval := activateCmd(i, actCmd) returned OK

2016/01/04 10:55:19 DEBUG:  lower = strings.TrimRight(lower, '
') returned ok
2016/01/04 10:55:19 ../echosrv_test/activate.sh ready returns ok
2016/01/04 10:55:19 3 of 3 apps are in STATETesting
2016/01/04 10:55:19 Orchestrator: StateReady completed:  0
2016/01/04 10:55:19 Orchestrator: READY TO TRANSITION TO TEST, read channel Tgo.UhuraComm
2016/01/04 10:55:19 waiting for Uhura to contact tgo
2016/01/04 10:55:19 StateReady: exiting 0
2016/01/04 10:55:19 Comms Handler
2016/01/04 10:55:19 Received comms from Uhura:  {Command:TESTNOW CmdCode:0 Timestamp:04 Jan 16 10:55 PST}
2016/01/04 10:55:19 Orchestrator: Comms reports uhura has sent command:  0
2016/01/04 10:55:19 Proceeding to state TEST
2016/01/04 10:55:19 Orchestrator: TRANSITION TO TEST, writing to channel Tgo.UhuraComm
2016/01/04 10:55:19 Posted TEST status to uhura. ReplyCode: 0
2016/01/04 10:55:19 Entering StateTest
2016/01/04 10:55:19 os.Stat(../echosrv_test/activate.sh)
2016/01/04 10:55:19 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv_test)
2016/01/04 10:55:20 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:20 DEBUG: out=OK

2016/01/04 10:55:20 ../echosrv_test/activate.sh returns OK
2016/01/04 10:55:20 os.Stat(../echosrv_test/activate.sh)
2016/01/04 10:55:20 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv_test)
2016/01/04 10:55:20 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:20 DEBUG: out=DONE

2016/01/04 10:55:20 ../echosrv_test/activate.sh returns DONE
2016/01/04 10:55:20 os.Stat(../echosrv_test/activate.sh)
2016/01/04 10:55:20 DEBUG: execute( out, err = exec.Command('./activate.sh', cmd).Output() )
%!(EXTRA string=../echosrv_test)
2016/01/04 10:55:20 DEBUG: exec.Command returned.  err=<nil>
2016/01/04 10:55:20 DEBUG: out=PASS

2016/01/04 10:55:20 EXTENDED STATUS DATA:  testresults: PASS
2016/01/04 10:55:20 2 of 2 apps are in STATEDone
2016/01/04 10:55:20 Orchestrator: StateTest completed:  0
2016/01/04 10:55:20 StateTest: exiting 0
2016/01/04 10:55:20 Posted DONE status to uhura. ReplyCode: 0
2016/01/04 10:55:20 StateOrchestrator exiting
